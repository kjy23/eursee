import os
import urllib.request
import subprocess
import traceback

# STATIC_CATEGORIES å­—å…¸
STATIC_TV_NAMES = {
    "MBC 2": "MBC 2",
    "MBC Max": "MBC Max",
    "MBC Action": "MBC Action",
    "MBC Movies": "MBC Movies",
    "MBC Movies Action": "MBC Movies Action",
    "MBC Movies Thriller": "MBC Movies Thriller",
    "Canal+ Cinema": "Canal+ Cinema",
    "Canal+ Box Office": "Canal+ Box Office",
    "Canal+ Grand Ecran": "Canal+ Grand Ecran",
    "Canal+ France": "Canal+ France",
    "SkyCinema Premiere": "SkyCinema Premiere",
    "SkyCinema Action": "SkyCinema Action",
    "SkyStore Premier 1": "SkyStore Premier 1",
    "SkyStore Premier 2": "SkyStore Premier 2",
    "SkyStore Premier 3": "SkyStore Premier 3",
    "SkyStore Premier 4": "SkyStore Premier 4",
    "SkyStore Premier 5": "SkyStore Premier 5",
    "OSN Movies Family": "OSN Movies Family",
    "OSN MOVIES Hollywood HD": "OSN MOVIES Hollywood HD",
    "OSN MOVIES ACTION HD": "OSN MOVIES ACTION HD",
    "OSN MOVIES PREMIERE": "OSN MOVIES PREMIERE",
    "OSN COMEDY": "OSN COMEDY",
    "HBO Max": "HBO Max",
    "HBO TOP10": "HBO TOP10",
    "STARZPLAY Action": "STARZPLAY Action",
    "Canal+ Box Office2": "Canal+ Box Office2",
    "Canal+ Box Office3": "Canal+ Box Office3",
    "Canal+ Box Office4": "Canal+ Box Office4",
    "Canal+ Box Office5": "Canal+ Box Office5",
    "Canal+ Box Office6": "Canal+ Box Office6",
    "Canal+ Box Office7": "Canal+ Box Office7",
    "Canal+ Box Office8": "Canal+ Box Office8",
    "Canal+ Box Office9": "Canal+ Box Office9",
    "Canal+ Box Office10": "Canal+ Box Office10",
    "Canal+ Box Office11": "Canal+ Box Office11",
    "Canal+ Box Office12": "Canal+ Box Office12",
    "Canal+ Box Office13": "Canal+ Box Office13",
    "Canal+ Box Office14": "Canal+ Box Office14",
    "Canal+ Box Office15": "Canal+ Box Office15",
    "Canal+ Box Office16": "Canal+ Box Office16",
    "Canal+ Box Office17": "Canal+ Box Office17",
    "Canal+ Box Office18": "Canal+ Box Office18",
    "Canal+ Box Office19": "Canal+ Box Office19",
    "beIN MOVIES HD 1 PREMIERE": "beIN MOVIES HD 1 PREMIERE",
    "beIN MOVIES HD 2 ACTION": "beIN MOVIES HD 2 ACTION",
    "Dubai One": "Dubai One",
    "OSN YAHALA CINEMA HD": "OSN YAHALA CINEMA HD",
    "OSN YAHALA Aflam": "OSN YAHALA Aflam",
    "Abu Dhabi Oula HD": "Abu Dhabi Oula HD",
    "Al Emarat TV": "Al Emarat TV",
    "Dubai TV": "Dubai TV",
    "Disney+ 2": "Disney+ 2",
    "Sama Dubai": "Sama Dubai",
    "Sharjah TV": "Sharjah TV",
    "Sharjah 2": "Sharjah 2",
    "Noor Dubai": "Noor Dubai",
    "MBC 1": "MBC 1",
    "MBC 1 KSA": "MBC 1 KSA",
    "MBC 4": "MBC 4",
    "MBC 5": "MBC 5",
    "MBC Drama": "MBC Drama",
    "MBC Masr 1": "MBC Masr 1",
    "MBC Masr 2": "MBC Masr 2",
    "MBC Plus Drama": "MBC Plus Drama",
    "National Geographic Abu Dhabi": "National Geographic Abu Dhabi",
    "Al Jazeera Documentary": "Al Jazeera Documentary",
    "Alaraby TV": "Alaraby TV",
    "Alaraby TV 2": "Alaraby TV 2",
    "FATAFEAT HD": "FATAFEAT HD",
    "Samira TV": "Samira TV",
    "Echorouk TV": "Echorouk TV",
    "Echorouk News": "Echorouk News",
    "El Bilad": "El Bilad",
    "Ennahar TV": "Ennahar TV",
    "Algerie TV1": "Algerie TV1",
    "Algerie TV2": "Algerie TV2",
    "Algerie TV3": "Algerie TV3",
    "Algerie TV6": "Algerie TV6",
    "Nature Time": "Nature Time",
    "Asharq Discovery": "Asharq Discovery",
    "Asharq Documentary": "Asharq Documentary",
    "Al Jazeera": "Al Jazeera",
    "Skynews Arabia": "Skynews Arabia",
    "Al Arabiya": "Al Arabiya",
    "BBC Arabic": "BBC Arabic",
    "DW Arabic": "DW Arabic",
    "RT Arabic": "RT Arabic",
    "TRT Arabi": "TRT Arabi",
    "TF1": "TF1",
    "FRANCE 2": "FRANCE 2",
    "France 3": "France 3",
    "FRANCE 4": "FRANCE 4",
    "FRANCE 5": "FRANCE 5",
    "TV5 Style HD": "TV5 Style HD",
    "TV5 Style": "TV5 Style",
    "M6": "M6",
    "ARTE": "ARTE",
    "Canal+ Docs": "Canal+ Docs",
    "Discovery Channel": "Discovery Channel",
    "Science & Vie": "Science & Vie",
    "Canal+ France": "Canal+ France",
    "Canal+ France": "Canal+ France",
    "Franceinfo": "Franceinfo",
    "Euronews": "Euronews",
    "CNews": "CNews",
    "France 24": "France 24",
    "TF1 Backup": "TF1",
    "FRANCE 2 Backup": "FRANCE 2",
    "France 3 Backup": "France 3",
    "FRANCE 4 Backup": "FRANCE 4",
    "FRANCE 5 Backup": "FRANCE 5",
    "M6 Backup": "M6",
    "Majid TV": "Majid TV",
    "Jeem TV": "Jeem TV",
    "Sky Cinema Animation": "Sky Cinema Animation",
    "Disney+ 2": "Disney+ 2",
    "beIN MOVIES HD 4 FAMILY": "beIN MOVIES HD 4 FAMILY",
    "OSN Kids": "OSN Kids",
    "MBC 3": "MBC 3",
    "Cartoon Network Arabia": "Cartoon Network Arabia",
    "FRANCE 4": "FRANCE 4",
    "Spacetoon": "Spacetoon",
    "BEIN SPORTS 1 HD": "BEIN SPORTS 1 HD",
    "BEIN SPORTS 2 HD": "BEIN SPORTS 2 HD",
    "BEIN SPORTS 3 HD": "BEIN SPORTS 3 HD",
    "BEIN SPORTS 4 HD": "BEIN SPORTS 4 HD",
    "BEIN SPORTS 5 HD": "BEIN SPORTS 5 HD",
    "BEIN SPORTS 6 HD": "BEIN SPORTS 6 HD",
    "BEIN SPORTS 7 HD": "BEIN SPORTS 7 HD",
    "BEIN SPORTS 8 HD": "BEIN SPORTS 8 HD",
    "BEIN SPORTS 1 FHD": "BEIN SPORTS 1 FHD",
    "BEIN SPORTS 2 FHD": "BEIN SPORTS 2 FHD",
    "BEIN SPORTS 3 FHD": "BEIN SPORTS 3 FHD",
    "BEIN SPORTS 4 FHD": "BEIN SPORTS 4 FHD",
    "BEIN SPORTS 5 FHD": "BEIN SPORTS 5 FHD",
    "BEIN SPORTS 6 FHD": "BEIN SPORTS 6 FHD",
    "BEIN SPORTS 7 FHD": "BEIN SPORTS 7 FHD",
    "BEIN SPORTS 8 FHD": "BEIN SPORTS 8 FHD",
    "BEIN SPORTS 1 4K": "BEIN SPORTS 1 4K",
    "BEIN SPORTS 2 4K": "BEIN SPORTS 2 4K",
    "BEIN SPORTS  2 4K": "BEIN SPORTS  2 4K",
    "BEIN SPORTS 3 4K": "BEIN SPORTS 3 4K",
    "BEIN SPORTS 4 4K": "BEIN SPORTS 4 4K",
    "BEIN SPORTS 5 4K": "BEIN SPORTS 5 4K",
    "BEIN SPORTS 6 4K": "BEIN SPORTS 6 4K",
    "BEIN SPORTS 7 4K": "BEIN SPORTS 7 4K",
    "BEIN SPORTS 8 4K": "BEIN SPORTS 8 4K",
    "BEIN SPORTS 1 HEVC": "BEIN SPORTS 1 HEVC",
    "BEIN SPORTS 2 HEVC": "BEIN SPORTS 2 HEVC",
    "BEIN SPORTS 3 HEVC": "BEIN SPORTS 3 HEVC",
    "BEIN SPORTS 4 HEVC": "BEIN SPORTS 4 HEVC",
    "BEIN SPORTS 5 HEVC": "BEIN SPORTS 5 HEVC",
    "BEIN SPORTS 6 HEVC": "BEIN SPORTS 6 HEVC",
    "BEIN SPORTS 7 HEVC": "BEIN SPORTS 7 HEVC",
    "BEIN SPORTS 8 HEVC": "BEIN SPORTS 8 HEVC",
    "BEIN SPORTS XTRA 1 HD": "BEIN SPORTS XTRA 1 HD",
    "BEIN SPORTS XTRA 2 HD": "BEIN SPORTS XTRA 2 HD",
    "BEIN SPORTS XTRA 3 HD": "BEIN SPORTS XTRA 3 HD",
    "BEIN SPORTS ENGLISH 1 HD": "BEIN SPORTS ENGLISH 1 HD",
    "BEIN SPORTS ENGLISH 2 HD": "BEIN SPORTS ENGLISH 2 HD",
    "BEIN SPORTS ENGLISH 3 HD": "BEIN SPORTS ENGLISH 3 HD",
    "BEIN SPORTS FRENCH 1 HD": "BEIN SPORTS FRENCH 1 HD",
    "BEIN SPORTS FRENCH 2 HD": "BEIN SPORTS FRENCH 2 HD",
    "BEIN SPORTS FRENCH 3 HD": "BEIN SPORTS FRENCH 3 HD",
    "BEIN SPORTS NEWS": "BEIN SPORTS NEWS",
    "BEIN SPORTS 2 MAX FHD": "BEIN SPORTS 2 MAX FHD",
    "BEIN SPORTS 4 MAX SD": "BEIN SPORTS 4 MAX SD",
    "BEIN SPORTS GLOBAL HD": "BEIN SPORTS GLOBAL HD",
    "BEIN SPORTS 1 SD": "BEIN SPORTS 1 SD",
    "BEIN SPORTS 2 SD": "BEIN SPORTS 2 SD",
    "BEIN SPORTS 3 SD": "BEIN SPORTS 3 SD",
    "BEIN SPORTS 4 SD": "BEIN SPORTS 4 SD",
    "BEIN SPORTS 5 SD": "BEIN SPORTS 5 SD",
    "BEIN SPORTS 6 SD": "BEIN SPORTS 6 SD",
    "BEIN SPORTS 7 SD": "BEIN SPORTS 7 SD",
    "BEIN SPORTS 8 SD": "BEIN SPORTS 8 SD",
}

STATIC_CATEGORIES = {
    "MBC 2": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Max": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Action": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Movies": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Movies Action": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Movies Thriller": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Canal+ Cinema": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Grand Ecran": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ France": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "SkyCinema Premiere": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "SkyCinema Action": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "SkyStore Premier 1": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "SkyStore Premier 2": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "SkyStore Premier 3": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "SkyStore Premier 4": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "SkyStore Premier 5": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "OSN Movies Family": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "OSN MOVIES Hollywood HD": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "OSN MOVIES ACTION HD": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "OSN MOVIES PREMIERE": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "OSN COMEDY": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "HBO Max": "ğŸ‡ºğŸ‡¸ç¾å›½+",
    "HBO TOP10": "ğŸ‡ºğŸ‡¸ç¾å›½+",
    "Disney+ 2": "ğŸ‡ºğŸ‡¸ç¾å›½+",
    "STARZPLAY Action": "ğŸ‡ºğŸ‡¸ç¾å›½+",
    "Canal+ Box Office2": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office3": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office4": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office5": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office6": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office7": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office8": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office9": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office10": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office11": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office12": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office13": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office14": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office15": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office16": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office17": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office18": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Box Office19": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "beIN MOVIES HD 1 PREMIERE": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "beIN MOVIES HD 2 ACTION": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "Dubai One": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "OSN YAHALA CINEMA HD": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "OSN YAHALA Aflam": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Abu Dhabi Oula HD": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Al Emarat TV": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Dubai TV": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Sama Dubai": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Sharjah TV": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Sharjah 2": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Noor Dubai": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "MBC 1": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC 1 KSA": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC 4": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC 5": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Drama": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "MBC Masr 1": "ğŸ‡ªğŸ‡¬åŸƒåŠ",
    "MBC Masr 2": "ğŸ‡ªğŸ‡¬åŸƒåŠ",
    "MBC Plus Drama": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "National Geographic Abu Dhabi": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "Al Jazeera Documentary": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "Alaraby TV": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Alaraby TV 2": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "FATAFEAT HD": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Samira TV": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Echorouk TV": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Echorouk News": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "El Bilad": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Ennahar TV": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Algerie TV1": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Algerie TV2": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Algerie TV3": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Algerie TV6": "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "Nature Time": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "Asharq Discovery": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "Asharq Documentary": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "Al Jazeera": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "Skynews Arabia": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Al Arabiya": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "BBC Arabic": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "DW Arabic": "ğŸ‡©ğŸ‡ªå¾·æ„å¿—",
    "RT Arabic": "ğŸ‡·ğŸ‡ºä¿„ç½—æ–¯æ–°é—»",
    "TRT Arabi": "ğŸ‡¹ğŸ‡·åœŸè€³å…¶",
    "TF1": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "FRANCE 2": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "France 3": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "FRANCE 4": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "FRANCE 5": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "TV5 Style HD": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "TV5 Style": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "M6": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "ARTE": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ Docs": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Discovery Channel": "ğŸ‡ºğŸ‡¸ç¾å›½+",
    "Science & Vie": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Canal+ France": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Franceinfo": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Euronews": "ğŸ‡ªğŸ‡ºæ³•å…°è¥¿æ–°é—»",
    "CNews": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "France 24": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "TF1 Backup": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "FRANCE 2 Backup": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "France 3 Backup": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "FRANCE 4 Backup": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "FRANCE 5 Backup": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "M6 Backup": "ğŸ‡«ğŸ‡·æ³•å…°è¥¿å…¬å…±",
    "Majid TV": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Jeem TV": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Sky Cinema Animation": "ğŸ‡¬ğŸ‡§è‹±æ ¼å…°+",
    "Disney+ 2": "ğŸ‡ºğŸ‡¸ç¾å›½++",
    "beIN MOVIES HD 4 FAMILY": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "OSN Kids": "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "MBC 3": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Cartoon Network Arabia": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "Spacetoon": "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "BEIN SPORTS 1 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 2 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 3 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 4 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 5 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 6 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 7 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 8 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 1 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 2 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 3 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 4 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 5 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 6 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 7 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 8 FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 1 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 2 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS  2 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 3 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 4 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 5 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 6 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 7 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 8 4K": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 1 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 2 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 3 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 4 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 5 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 6 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 7 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 8 HEVC": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS XTRA 1 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS XTRA 2 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS XTRA 3 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS ENGLISH 1 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS ENGLISH 2 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS ENGLISH 3 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS FRENCH 1 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS FRENCH 2 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS FRENCH 3 HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS NEWS": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 2 MAX FHD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 4 MAX SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS GLOBAL HD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 1 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 2 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 3 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 4 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 5 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 6 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 7 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
    "BEIN SPORTS 8 SD": "ğŸ‡¶ğŸ‡¦å¡å¡”å°”ä½“è‚²+",
}

# ä¸‹è½½ M3U æ–‡ä»¶å¹¶ä¿å­˜ä¸ºæŒ‡å®šè·¯å¾„
def download_file(url, output_file):
    try:
        print(f"æ­£åœ¨ä¸‹è½½æ–‡ä»¶: {url} ...")
        urllib.request.urlretrieve(url, output_file)
        print(f"æ–‡ä»¶å·²ä¸‹è½½è‡³: {output_file}")
    except Exception as e:
        print(f"ä¸‹è½½æ–‡ä»¶æ—¶å‘ç”Ÿé”™è¯¯: {e}")
        traceback.print_exc()

# æ›´æ–° M3U æ–‡ä»¶çš„å‡½æ•°
def update_m3u_file(input_file, output_file, categories, tv_names):
    try:
        # æ‰“å¼€è¾“å…¥æ–‡ä»¶å¹¶è¯»å–å†…å®¹
        print(f"æ­£åœ¨æ‰“å¼€æ–‡ä»¶: {input_file}...")
        with open(input_file, 'r', encoding='utf-8-sig') as file:
            lines = file.readlines()

        print("è¯»å–æ–‡ä»¶å†…å®¹:")
        for line in lines:
            print(line.strip())  # æ‰“å°æ¯ä¸€è¡Œå†…å®¹ï¼Œå¸®åŠ©è°ƒè¯•

        updated_lines = []
        for line in lines:
            if line.startswith('#EXTINF'):
                # æå–é¢‘é“åç§°
                original_channel_name = line.split(',')[1].strip()
                print(f"æ­£åœ¨å¤„ç†é¢‘é“: {original_channel_name}")  # æ‰“å°æ­£åœ¨å¤„ç†çš„é¢‘é“åç§°

                # æ ‡å‡†åŒ–é¢‘é“åç§°
                channel_name = tv_names.get(original_channel_name, original_channel_name)
                print(f"æ ‡å‡†åŒ–é¢‘é“åç§°: {channel_name}")

                # å¦‚æœé¢‘é“åç§°åœ¨å­—å…¸ä¸­ï¼Œæ›´æ–° group-title
                if channel_name in categories:
                    category = categories[channel_name]
                    updated_line = f'#EXTINF:-1 tvg-id="{channel_name}" tvg-logo="https://mchoumi.github.io/LOGOs/{channel_name.replace(" ", "")}.png" group-title="{category}", {channel_name}\n'
                    updated_lines.append(updated_line)
                else:
                    updated_lines.append(line)
            else:
                updated_lines.append(line)

        print("æ›´æ–°åçš„å†…å®¹:")
        for updated_line in updated_lines:
            print(updated_line.strip())  # æ‰“å°æ›´æ–°åçš„æ¯ä¸€è¡Œ

        # å†™å›æ›´æ–°åçš„å†…å®¹åˆ°æ–°çš„æ–‡ä»¶
        with open(output_file, 'w', encoding='utf-8') as file:
            file.writelines(updated_lines)
        print(f"æ–‡ä»¶å·²æˆåŠŸæ›´æ–°å¹¶ä¿å­˜ä¸º: {output_file}")

    except Exception as e:
        print(f"æ‰§è¡Œæ—¶å‘ç”Ÿé”™è¯¯: {e}")
        # æ‰“å°è¯¦ç»†çš„é”™è¯¯å †æ ˆä¿¡æ¯
        traceback.print_exc()

# ä¸»ç¨‹åº
def main():
    url = 'https://raw.githubusercontent.com/mchoumi/mchoumi.github.io/refs/heads/main/IPTVara.m3u'
    input_file = 'IPTVara.m3u'
    output_file = 'eup.m3u'  # æ›´æ–°è¾“å‡ºæ–‡ä»¶åä¸º 'eup.m3u'

    # 1. ä¸‹è½½æ–‡ä»¶
    download_file(url, input_file)

    # 2. æ›´æ–° M3U æ–‡ä»¶
    update_m3u_file(input_file, output_file, STATIC_CATEGORIES, STATIC_TV_NAMES)

if __name__ == "__main__":
    main()
